# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏ Stripe Price ID

## ‚ùå –ü—Ä–æ–±–ª–µ–º–∞

```
No such price: 'price_1SDjkdGfnGEnyXLEIIX4TIUc'
```

–≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –æ–∫—Ä—É–∂–µ–Ω–∏—è `STRIPE_PRICE_ID` –≤ Vercel —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ **–Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ü–µ–Ω—É** –≤ –≤–∞—à–µ–º Stripe –∞–∫–∫–∞—É–Ω—Ç–µ.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –®–∞–≥ 1: –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd backend
python setup_stripe_product.py
```

**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç:**

- ‚úÖ –°–æ–∑–¥–∞–µ—Ç –ø—Ä–æ–¥—É–∫—Ç "TrendXL Pro" –≤ Stripe
- ‚úÖ –°–æ–∑–¥–∞–µ—Ç —Ü–µ–Ω—É $29/–º–µ—Å—è—Ü
- ‚úÖ –í—ã–≤–æ–¥–∏—Ç –Ω–æ–≤—ã–π Price ID
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç `.env` —Ñ–∞–π–ª

**–í—ã–≤–æ–¥ –±—É–¥–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫–∏–º:**

```
üöÄ CREATING STRIPE PRODUCT & PRICE
================================================================================

1Ô∏è‚É£ Creating Product...
‚úÖ Product created successfully!
   Product ID: prod_xxxxxxxxxxxxx
   Name: TrendXL Pro
   Description: Unlimited trend analysis and AI insights for TikTok creators

2Ô∏è‚É£ Creating Price ($29/month)...
‚úÖ Price created successfully!
   Price ID: price_xxxxxxxxxxxxx
   Amount: $29.0 USD
   Interval: monthly

‚úÖ SETUP COMPLETE!
```

### –®–∞–≥ 2: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π Price ID

–ò–∑ –≤—ã–≤–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–∞ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ:

```
price_xxxxxxxxxxxxx
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ Vercel

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Vercel Dashboard](https://vercel.com/dashboard)
2. –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Settings ‚Üí Environment Variables**
4. –ù–∞–π–¥–∏—Ç–µ `STRIPE_PRICE_ID`
5. –ù–∞–∂–º–∏—Ç–µ **Edit**
6. –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π Price ID
7. –ù–∞–∂–º–∏—Ç–µ **Save**
8. **Redeploy** –ø—Ä–æ–µ–∫—Ç

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é —Ü–µ–Ω—É

### –®–∞–≥ 1: –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ü–µ–Ω—ã

```bash
cd backend
python list_stripe_products.py
```

**–í—ã–≤–æ–¥ –ø–æ–∫–∞–∂–µ—Ç:**

- –í—Å–µ –≤–∞—à–∏ –ø—Ä–æ–¥—É–∫—Ç—ã –≤ Stripe
- –í—Å–µ —Ü–µ–Ω—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- –ö–∞–∫–æ–π Price ID —Å–µ–π—á–∞—Å –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ –æ–Ω

### –®–∞–≥ 2: –í—ã–±–µ—Ä–∏—Ç–µ —Ü–µ–Ω—É –∏–∑ —Å–ø–∏—Å–∫–∞

–ù–∞–π–¥–∏—Ç–µ –ø–æ–¥—Ö–æ–¥—è—â—É—é —Ü–µ–Ω—É (–Ω–∞–ø—Ä–∏–º–µ—Ä, $29/month recurring) –∏ —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ—ë `Price ID`:

```
üîÑ Active Recurring Prices (2):
   ‚Ä¢ price_1QHmcUGfnGEnyXLE6ZPMvOXH  ‚Üê –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —ç—Ç–æ
     Product: TrendXL Pro
     Price: $29.0 USD/month
```

### –®–∞–≥ 3: –û–±–Ω–æ–≤–∏—Ç–µ Vercel

–¢–∞ –∂–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞, —á—Ç–æ –∏ –≤ –†–µ—à–µ–Ω–∏–∏ 1, –®–∞–≥ 3.

---

## ‚úÖ –†–µ—à–µ–Ω–∏–µ 3: –°–æ–∑–¥–∞—Ç—å –≤—Ä—É—á–Ω—É—é –≤ Stripe Dashboard

### –®–∞–≥ 1: –û—Ç–∫—Ä–æ–π—Ç–µ Stripe Dashboard

–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞: https://dashboard.stripe.com/products

### –®–∞–≥ 2: –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç

1. –ù–∞–∂–º–∏—Ç–µ **"+ Add product"**
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É:
   - **Name:** `TrendXL Pro`
   - **Description:** `Unlimited trend analysis and AI insights for TikTok creators`

### –®–∞–≥ 3: –î–æ–±–∞–≤—å—Ç–µ —Ü–µ–Ω—É

1. –í —Ä–∞–∑–¥–µ–ª–µ **Pricing** –Ω–∞–∂–º–∏—Ç–µ **"Add price"**
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ:
   - **Price:** `29.00`
   - **Currency:** `USD`
   - **Billing period:** `Monthly`
   - **Type:** `Recurring`

### –®–∞–≥ 4: –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Price ID

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç
2. –í —Å–µ–∫—Ü–∏–∏ **Pricing** –Ω–∞–π–¥–∏—Ç–µ —Ü–µ–Ω—É
3. –ù–∞–∂–º–∏—Ç–µ –Ω–∞ –Ω–µ—ë
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ **Price ID** (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `price_`)

### –®–∞–≥ 5: –û–±–Ω–æ–≤–∏—Ç–µ Vercel

–¢–∞ –∂–µ –ø—Ä–æ—Ü–µ–¥—É—Ä–∞, —á—Ç–æ –∏ –≤ –†–µ—à–µ–Ω–∏–∏ 1, –®–∞–≥ 3.

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ

```bash
cd backend
python -c "from config import settings; print(f'STRIPE_PRICE_ID: {settings.stripe_price_id}')"
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤ Vercel (–ø–æ—Å–ª–µ redeploy)

–û—Ç–∫—Ä–æ–π—Ç–µ: `https://your-app.vercel.app/api/v1/subscription/create-payment-link?user_email=test@example.com`

**–û–∂–∏–¥–∞–µ—Ç—Å—è:**

```json
{
  "success": true,
  "payment_url": "https://checkout.stripe.com/...",
  "session_id": "cs_...",
  "expires_at": "..."
}
```

**–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:**

```json
{
  "detail": "No such price: 'price_...'"
}
```

---

## üìù –ü–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (–ø–æ–ª–Ω–∞—è)

### –õ–æ–∫–∞–ª—å–Ω–æ:

```bash
# 1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –ø–∞–ø–∫—É backend
cd backend

# 2. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–¥—É–∫—Ç –∏ —Ü–µ–Ω—É –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
python setup_stripe_product.py

# 3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ Price ID –∏–∑ –≤—ã–≤–æ–¥–∞
# –ü—Ä–∏–º–µ—Ä: price_1QHmcUGfnGEnyXLE6ZPMvOXH

# 4. (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –≤—Å—ë —Å–æ–∑–¥–∞–ª–æ—Å—å
python list_stripe_products.py
```

### –í Vercel Dashboard:

```
1. –û—Ç–∫—Ä–æ–π—Ç–µ https://vercel.com/dashboard
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç "trendxl-2-0"
3. Settings ‚Üí Environment Variables
4. –ù–∞–π–¥–∏—Ç–µ STRIPE_PRICE_ID
5. Edit ‚Üí –í—Å—Ç–∞–≤—å—Ç–µ –Ω–æ–≤—ã–π Price ID
6. Save
7. Deployments ‚Üí Latest ‚Üí Redeploy
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞:

```bash
# –ü–æ—Å–ª–µ redeploy –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
https://your-app.vercel.app/

# –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –∫–Ω–æ–ø–∫—É "Subscribe"
# –î–æ–ª–∂–Ω–æ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–∏—Ç—å –Ω–∞ Stripe Checkout
```

---

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –º–æ–º–µ–Ω—Ç—ã

### Test vs Live Mode

**Stripe —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –¥–≤—É—Ö —Ä–µ–∂–∏–º–∞—Ö:**

- **Test Mode** - –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è (–∫–ª—é—á–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `sk_test_`)

  - –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –∫–∞—Ä—Ç—É: `4242 4242 4242 4242`
  - –†–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏ –ù–ï —Å–ø–∏—Å—ã–≤–∞—é—Ç—Å—è

- **Live Mode** - —Ä–µ–∞–ª—å–Ω—ã–µ –ø–ª–∞—Ç–µ–∂–∏ (–∫–ª—é—á–∏ –Ω–∞—á–∏–Ω–∞—é—Ç—Å—è —Å `sk_live_`)
  - –°–ø–∏—Å—ã–≤–∞—é—Ç—Å—è —Ä–µ–∞–ª—å–Ω—ã–µ –¥–µ–Ω—å–≥–∏!

**–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–µ–∂–∏–º!**

### –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏

–í Stripe Dashboard –µ—Å—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å **Test mode / Live mode** –≤ –ø—Ä–∞–≤–æ–º –≤–µ—Ä—Ö–Ω–µ–º —É–≥–ª—É.

–î–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ **Test mode**.

### Price ID —É–Ω–∏–∫–∞–ª—å–Ω—ã –¥–ª—è —Ä–µ–∂–∏–º–∞

Price ID —Å–æ–∑–¥–∞–Ω–Ω—ã–π –≤ Test mode **–ù–ï –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å** –≤ Live mode –∏ –Ω–∞–æ–±–æ—Ä–æ—Ç.

–ï—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ—Ç–µ—Å—å –º–µ–∂–¥—É —Ä–µ–∂–∏–º–∞–º–∏ - —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–¥—É–∫—Ç –∏ —Ü–µ–Ω—É!

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π —á–µ–∫–ª–∏—Å—Ç

- [ ] –ó–∞–ø—É—â–µ–Ω `setup_stripe_product.py` –∏–ª–∏ —Å–æ–∑–¥–∞–Ω –ø—Ä–æ–¥—É–∫—Ç –≤—Ä—É—á–Ω—É—é
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –Ω–æ–≤—ã–π `STRIPE_PRICE_ID`
- [ ] –û–±–Ω–æ–≤–ª–µ–Ω–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –≤ Vercel Environment Variables
- [ ] –°–¥–µ–ª–∞–Ω Redeploy –ø—Ä–æ–µ–∫—Ç–∞ –≤ Vercel
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –∫–Ω–æ–ø–∫–∏ Subscribe –Ω–∞ —Å–∞–π—Ç–µ
- [ ] Payment link —Å–æ–∑–¥–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫
- [ ] –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ Stripe Checkout —Ä–∞–±–æ—Ç–∞–µ—Ç

---

**–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –≤—Å–µ—Ö —à–∞–≥–æ–≤ –æ—à–∏–±–∫–∞ –¥–æ–ª–∂–Ω–∞ –∏—Å—á–µ–∑–Ω—É—Ç—å!** ‚úÖ
